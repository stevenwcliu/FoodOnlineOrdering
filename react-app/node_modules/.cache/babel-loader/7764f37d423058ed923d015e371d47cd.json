{"ast":null,"code":"import _classCallCheck from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/zoezhao/Desktop/CS 157B/dsf/src/component/Cart/Cart.js\";\nimport React, { Component } from 'react';\nimport \"./Cart.css\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../images/ezgif-1-e382b6df9dbb.png\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport userService from \"../../common/services/User/UserService\";\nimport UserStoreService from \"../../common/services/User/UserStoreService\";\nimport Login from \"../Authentication/Login/Login\";\nimport Modal from \"@material-ui/core/Modal/Modal\";\n\nvar Cart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Cart, _Component);\n\n  function Cart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Cart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Cart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userStatus: UserStoreService.isLoggedin() ? 'Order History' : 'Login',\n      open: false,\n      itemList: [],\n      quantity: 1,\n      totalPrice: 0\n    };\n\n    _this.handleOpen = function () {\n      if (_this.state.userStatus === 'Login') {\n        _this.setState({\n          open: true\n        });\n      } else {\n        _this.props.history.push('/userprofile');\n      }\n    };\n\n    _this.handleClose = function () {\n      var login = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var userStatus = 'Login';\n\n      if (login) {\n        userStatus = 'Order History';\n      }\n\n      _this.setState({\n        userStatus: userStatus,\n        open: false\n      });\n    };\n\n    _this.handleRemoveRow = function (idx, id) {\n      var r = _this.state.itemList[idx];\n      var body = {\n        item_id: id\n      };\n      userService.shoppingcart_deleteitem(JSON.stringify(body)).then(function (data) {\n        console.log(data, \"data\");\n        alert(\"Delete item Succeed\");\n      }).catch(function (error) {\n        alert(error.message);\n      });\n\n      _this.setState({\n        itemList: _this.state.itemList.filter(function (row) {\n          return row !== r;\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Cart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (UserStoreService.getToken() !== undefined) {\n        userService.user_shoppingcart().then(function (data) {\n          console.log(data, \"data\");\n\n          _this2.setState({\n            itemList: data\n          });\n        }).catch(function (error) {\n          alert(error.message);\n        });\n        userService.user_shoppingcarttotal().then(function (data) {\n          console.log(data, \"data\");\n\n          _this2.setState({\n            totalPrice: data.total\n          });\n        }).catch(function (error) {\n          _this2.setState({\n            totalPrice: 0\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        width: \"300\",\n        height: \"200\",\n        className: \"rounded mx-auto d-block logo\",\n        src: logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        align: \"right\",\n        bg: \"white\",\n        variant: \"light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: function onClick() {\n          return _this3.props.history.push('/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.handleOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.state.userStatus)), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: function onClick() {\n          return _this3.props.history.push('/cart');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Shopping Cart\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: function onClick() {\n          return _this3.props.history.push('/about');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"About Us\"))))), React.createElement(Modal, {\n        \"aria-labelledby\": \"sm snoimple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.open,\n        onClose: function onClose() {\n          return _this3.handleClose(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Login, {\n        closeModal: this.handleClose,\n        parentData: this.props,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel panel-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row padButtom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-shopping-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), \" Shopping Cart\"))))), React.createElement(\"div\", {\n        className: \"panel-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.itemList.map(function (item, idx) {\n        return React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"img-responsive img\",\n          src: \"https://www.mcdonalds.com/content/dam/usa/documents/fresh-beef/smokehouse-double.jpg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-xs-4 col-md-6 pad2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: \"product-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, item.name)), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Cal: \"))), React.createElement(\"div\", {\n          className: \"col-xs-6 col-md-4 pad0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-6 text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, item.price, \" \", React.createElement(\"span\", {\n          className: \"text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"x\")))), React.createElement(\"div\", {\n          className: \"col-xs-4 pad\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn inline-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"glyphicon glyphicon-plus\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          className: \"btn inline-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"glyphicon glyphicon-minus\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        })), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control input-sm inline-block\",\n          defaultValue: _this3.state.quantity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-xs-2 text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-link btn-xs\",\n          onClick: function onClick() {\n            return _this3.handleRemoveRow(idx, item.item_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-trash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \" \")))));\n      })), React.createElement(\"div\", {\n        className: \"panel-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Total \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"$\", this.state.totalPrice))), React.createElement(\"div\", {\n        className: \"col-xs-3 pad1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/checkout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-success btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Checkout\"))))))))));\n    }\n  }]);\n\n  return Cart;\n}(Component);\n\nexport default Cart;","map":{"version":3,"sources":["/Users/zoezhao/Desktop/CS 157B/dsf/src/component/Cart/Cart.js"],"names":["React","Component","Link","logo","Navbar","Nav","userService","UserStoreService","Login","Modal","Cart","state","userStatus","isLoggedin","open","itemList","quantity","totalPrice","handleOpen","setState","props","history","push","handleClose","login","handleRemoveRow","idx","id","r","body","item_id","shoppingcart_deleteitem","JSON","stringify","then","data","console","log","alert","catch","error","message","filter","row","getToken","undefined","user_shoppingcart","user_shoppingcarttotal","total","map","item","name","price"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./Cart.css\"\nimport {Link} from \"react-router-dom\";\nimport logo from \"../images/ezgif-1-e382b6df9dbb.png\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport userService from \"../../common/services/User/UserService\";\nimport UserStoreService from \"../../common/services/User/UserStoreService\";\nimport Login from \"../Authentication/Login/Login\";\nimport Modal from \"@material-ui/core/Modal/Modal\";\n\nclass Cart extends Component {\n\n    state = {\n\n        userStatus: UserStoreService.isLoggedin()? 'Order History': 'Login',\n        open: false,\n        itemList: [],\n        quantity: 1,\n        totalPrice: 0,\n\n    };\n\ncomponentDidMount() {\n\n    if(UserStoreService.getToken() !== undefined) {\n        userService.user_shoppingcart().then((data) => {\n\n            console.log(data, \"data\");\n            this.setState({itemList: data})\n        }).catch((error) => {\n            alert(error.message);\n        });\n\n        userService.user_shoppingcarttotal().then((data) => {\n\n            console.log(data, \"data\");\n            this.setState({totalPrice: data.total})\n        }).catch((error) => {\n            this.setState({totalPrice: 0})\n        });\n\n    }\n}\n\n\n\n    handleOpen = () => {\n        if (this.state.userStatus === 'Login') {\n            this.setState({open: true});\n        } else {\n            this.props.history.push('/userprofile')\n        }\n\n    };\n\n    handleClose = (login = false) => {\n        let userStatus = 'Login';\n        if (login) {\n            userStatus = 'Order History';\n        }\n        this.setState({\n            userStatus,\n            open: false\n        });\n    };\n\n    handleRemoveRow = (idx,id) => {\n\n        let r = this.state.itemList[idx];\n        let body = {\n            item_id: id\n        };\n        userService.shoppingcart_deleteitem(JSON.stringify(body)).then((data) => {\n\n\n            console.log(data, \"data\");\n            alert(\"Delete item Succeed\")\n        }).catch((error) => {\n            alert(error.message);\n        });\n\n        this.setState({\n            itemList: this.state.itemList.filter(function (row) {\n\n                return row !== r;\n\n            }),\n        });\n\n\n    };\n\n    render() {\n        return (\n            <div>\n                <img  width=\"300\" height=\"200\" className=\"rounded mx-auto d-block logo\" src={logo}/>\n                <Navbar align=\"right\" bg=\"white\" variant=\"light\">\n                    <Nav className=\"float-right\">\n\n                        <ul>\n                            <li><a onClick={() => this.props.history.push('/')}>Home</a></li>\n                            <li><a onClick={this.handleOpen}>{this.state.userStatus}</a></li>\n                            <li><a onClick={() => this.props.history.push('/cart')}>Shopping Cart</a></li>\n                            <li><a onClick={() => this.props.history.push('/about')}>About Us</a></li>\n\n                        </ul>\n                    </Nav>\n                </Navbar>\n                <Modal\n                    aria-labelledby=\"sm snoimple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                    open={this.state.open}\n                    onClose={() => this.handleClose(false)}\n                >\n                    <Login closeModal={this.handleClose} parentData={this.props}/>\n                </Modal>\n                <div className=\"container\">\n\n                    <div className=\"row\">\n                        <div className=\"col-xs-8\">\n                            <div className=\"panel panel-info\">\n                                <div className=\"panel-heading\">\n                                    <div className=\"panel-title\">\n                                        <div className=\"row padButtom\">\n                                            <div className=\"col-xs-6\">\n                                                <h5><span className=\"glyphicon glyphicon-shopping-cart\"/> Shopping\n                                                    Cart</h5>\n                                            </div>\n\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"panel-body\">\n                                    {this.state.itemList.map((item, idx) => (\n                                    <div className=\"row\">\n                                        <div className=\"col-xs-2\"><img className=\"img-responsive img\"\n                                                                       src=\"https://www.mcdonalds.com/content/dam/usa/documents/fresh-beef/smokehouse-double.jpg\"/>\n                                        </div>\n                                        <div className=\"col-xs-4 col-md-6 pad2\">\n                                            <h4 className=\"product-name\"><strong>{item.name}</strong></h4>\n                                            <h4>\n                                                <small>Cal: </small>\n                                            </h4>\n                                        </div>\n                                        <div className=\"col-xs-6 col-md-4 pad0\">\n                                            <div className=\"col-xs-6 text-right\">\n                                                <h6><strong>{item.price} <span className=\"text-muted\">x</span></strong></h6>\n                                            </div>\n                                            <div className=\"col-xs-4 pad\">\n                                                <button className=\"btn inline-block\"><i className=\"glyphicon glyphicon-plus\" /></button>\n                                                <button className=\"btn inline-block\"><i className=\"glyphicon glyphicon-minus\" /></button>\n                                                <input type=\"text\" className=\"form-control input-sm inline-block\" defaultValue={this.state.quantity}/>\n                                            </div>\n                                            <div className=\"col-xs-2 text-right\">\n                                                <button type=\"button\" className=\"btn btn-link btn-xs\" onClick={() => this.handleRemoveRow(idx,item.item_id)}>\n                                                    <span className=\"glyphicon glyphicon-trash\"> </span>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    ))}\n                                </div>\n                                <div className=\"panel-footer\">\n                                    <div className=\"row text-center\">\n                                        <div className=\"col-xs-9\">\n                                            <h4 className=\"text-right\">Total <strong>${this.state.totalPrice}</strong></h4>\n                                        </div>\n                                        <div className=\"col-xs-3 pad1\">\n                                            <Link to=\"/checkout\">\n                                                <button type=\"button\" className=\"btn btn-success btn-block\">\n                                                    Checkout\n                                                </button>\n                                            </Link>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}